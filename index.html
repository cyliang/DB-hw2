<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/sunny/jquery-ui-1.10.4.custom.min.css" />
	<link rel="stylesheet" type="text/css" href="css/jquery.slidemoney.css" />
	<link rel="stylesheet" type="text/css" href="css/main.css" />
	<link rel="stylesheet" type="text/css" href="css/login_dialog.css" />
	<link rel="stylesheet" type="text/css" href="css/welcome.css" />
	<link rel="stylesheet" type="text/css" href="css/flight.css" />
	<link rel="stylesheet" type="text/css" href="css/user_info.css" />
	<link rel="stylesheet" type="text/css" href="icon/style.css" />
	
	<script src="js/jquery-1.11.0.min.js"></script>
	<script src="js/jquery-ui-1.10.4.custom.min.js"></script>
	<script src="js/jquery.datetimeduck.js"></script>
	<script src="js/jquery.slidemoney.js"></script>
	<script src="js/users_manage.js"></script>
	<script src="js/login_dialog.js"></script>
	<script src="js/regist_dialog.js"></script>
	<script src="js/connect_FB.js"></script>
	<script src="js/login.js"></script>
	<script src="js/flight.js"></script>
	<script src="js/user_set_dialog.js"></script>
	<script src="js/background.js"></script>
	<script src="js/main.js"></script>
	
	<title>航班管理系統 - 歡迎</title>
	<meta charset="UTF-8" />
	<meta name="author" content="Chih-Yung Liang" />
</head>
<body>
<div id="fb-root"></div>
<script>
(function(d, s, id){
	var js, fjs = d.getElementsByTagName(s)[0];
	if (d.getElementById(id)) {return;}
	js = d.createElement(s); js.id = id;
	js.src = "//connect.facebook.net/zh_TW/all.js";
	fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>

<header>
	<h1><a href="#">航班管理系統</a></h1>
	<h2>歡迎</h2>
</header>
	<div id="top_bar">
		<div id="login_state">未登入</div>
	</div>
	<div id="user_info">
		<div id="user_FB">
			<img src="" />
			<div id="user_FB_name"></div>
		</div>
		<div id="user_account"></div>
		<div id="user_name"></div>
		<div id="user_email"></div>
		<div id="user_admin"></div>
	</div>
<footer>
	<div id="foot_copy">&copy; 2014 Chih-Yung Liang</div>
	<div class="foot_hover">
		除使用的圖片、icon、jQuery等Libarary之外，其餘本站的HTML, Javascript, PHP, CSS設計皆為我自己撰寫。
	</div>
	<div class="foot_hover">
		<button type="button" id="auto_bg" onClick="background.set_auto(true)">自動更換背景</button>
		<button type="button" id="stop_bg" onClick="background.set_auto(false)">停止自動背景</button><br>
		<button type="button" onClick="background.change('prev')">上一張</button>
		更換背景
		<button type="button" onClick="background.change('next')">下一張</button>
	</div>
</footer>
<nav><ul>
	<li><a href="#" onClick="page.change_page('flight_manage')">航班管理</a></li>
	<li class="admin_option"><a href="#" onClick="page.change_page('users_manage')">使用者管理</a></li>
	<li class="login_settings"><a href="#" onClick="logout()">登出</a></li>
	<li class="login_settings"><a href="#" onClick="page.change_page('uset_dialog')">使用者設定</a></li>
	<li class="login_settings"><a href="#" onClick="page.change_page('connect_account')">連結帳號</a></li>
</ul></nav>
<main>
	<section id="welcome_page">
		<h3>歡迎來到航班管理系統</h3>
		<p>
			立即 <a href="#" onClick="page.change_page('login_dialog')">登入</a>
			或 <a href="#" onClick="page.change_page('regist_dialog')">註冊</a> 以檢視航班
		</p>
	</section>
	<section id="login_dialog" class="dialog">
		<form method="POST" action="" id="login_form">
		<div class="field">
			<input type="text" name="username" pattern="^[A-Za-z0-9_]{6,}$" placeholder="輸入帳號" autofocus required/>
		</div>
		<div class="field">
			<input type="password" name="password" pattern="^.{8,}$" placeholder="輸入密碼" required/>
		</div>
		<p id="links">
			<a href="#" onClick="page.change_page('regist_dialog')">註冊新使用者</a> 
			<a href="#" onClick="login_dialog.reset_password()">重設密碼</a>
		</p>
		<div id="what_new_user" class="slide_help">
			為什麼要註冊新使用者？<br>
			成為我們的使用者可獲得以下好處：
			<ul>
				<li>隨時檢視航班資訊</li>
				<li>隨時新增、更新航班資訊（限管理員）</li>
			</ul>
		</div>
		<div id="what_reset_pwd" class="slide_help">
			忘記密碼是什麼了嗎？<br>
			利用重設密碼，系統將寄給您新的密碼
		</div>
		<div>
			<button type="submit">登入</button>
		</div>
		</form>
		<div id="login_wait">
			<h3>請稍後...登入中</h3>
		</div>
	</section>
	<section id="regist_dialog" class="dialog">
		<form method="POST" action="" id="new_first">
			<div id="new_rname" class="field">
				<input type="text" name="name" placeholder="輸入您的姓名（此欄位非帳號！）" required autofocus/>
			</div>
			<div id="new_email" class="field">
				<input type="email" name="email" placeholder="輸入您的電子郵件" required/>
			</div>
			<div class="button">
				<button type="submit">繼續</button>
			</div>
		</form>
		<form method="POST" action="" id="new_second">
			<div id="new_uname" class="field">
				<input type="text" name="username" pattern="^[A-Za-z0-9_]{6,}$" title="格式為6位以上的英文字母或數字，且不能包含'_'以外的符號" placeholder="輸入新帳號" required autofocus/>
				<div class="warning">
					很抱歉、這個使用者名稱已經被註冊了。
				</div>
			</div>
			<div id="new_pwd" class="field">
				<input type="password" name="password" pattern="^.{8,}$" title="請至少輸入8個字以上，可以使用任何符號" placeholder="輸入新密碼" required/>
			</div>
			<div id="new_confirm_pwd" class="field">
				<input type="password" placeholder="重複輸入新密碼" required/>
				<div class="warning">
					兩次輸入的密碼不符合。
				</div>
			</div>
			<div class="button">
				<button type="submit">註冊</button>
				<button type="button" id="new_rewrite">重新填寫</button>
			</div>
		</form>
		<div id="new_wait">
			<h3>請稍後...註冊中</h3>
		</div>
		<div id="regist_success">
			<h3>註冊成功！</h3>
			<button type="button" onClick="page.change_page('login_dialog')">登入以繼續</button>
		</div>
	</section>
	<section id="home_page">
		<h3>航班管理</h3>
			檢視航班<span class="admin_option">、新增、修改、刪除航班</span>。
		<h3>使用者設定</h3>
			修改自己的姓名、Email或密碼。
		<h3>連結帳號</h3>
			將帳號與Facebook、Google+或GitHub連結以獲得更佳的用戶體驗。
		<h3>登出</h3>
			登出航班管理系統
	</section>
	<section id="flight_manage">
		<form method="POST" id="flight_update_form" action="">
		<table>
		<thead>
			<tr>
				<th class="admin_option">修改</th>
				<th>id</th>
				<th>班機號碼 Flight No.</th>
				<th>起飛機場 Departure</th>
				<th>起飛時間 Departure Time</th>
				<th>到達機場 Destination</th>
				<th>到達時間 Arrival Time</th>
				<th>機票價錢 Ticket Price</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
		<tfoot>
			<tr>
				<td class="admin_option"></td>
				<td></td>
				<td><input type="text" name="number" form="flight_add_form" pattern="^\S+$" title="班機號碼不得包含空白" placeholder="班機號碼 Flight No." required /></td>
				<td><input type="text" name="departure" form="flight_add_form" pattern="^\S+$" title="起飛機場不得包含空白" placeholder="起飛機場 Departure" required /></td>
				<td><input type="text" name="departure_date" form="flight_add_form" class="date_input" pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}(:[0-9]{2})?$" title="yyyy-mm-dd hh:mm:ss" placeholder="起飛時間 Departure Time" required /></td>
				<td><input type="text" name="destination" form="flight_add_form" pattern="^\S+$" title="到達機場不得包含空白" placeholder="到達機場 Destination" required /></td>
				<td><input type="text" name="arrival_date" form="flight_add_form" class="date_input" pattern="^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}(:[0-9]{2})?$" title="yyyy-mm-dd hh:mm:ss" placeholder="到達時間 Arrival Time" required /></td>
				<td><input type="number" name="price" form="flight_add_form" class="money_input" placeholder="機票價格 Ticket Price" min="0" max="99999999.99" step="0.01" required /></td>
			</tr>
		</tfoot>
		</table>
		<span class="admin_option">
			<button type="button" id="flight_add" onClick="flight.adding()">新增班機</button>
			<button type="submit" id="flight_add_save" form="flight_add_form">新增</button>
			<button type="button" id="flight_add_cancel" onClick="flight.adding_reset()">放棄</button>
		</span>
		<span id="flight_page_control">
			<button type="button" id="flight_p_first" onClick="flight.goto_page('first')">第一頁</button>
			<button type="button" id="flight_p_previous" onClick="flight.goto_page('previous')">上一頁</button>
			<input list="flight_p_list" id="flight_p_select" placeholder="第1/2頁">
			<datalist id="flight_p_list">
				<option val="1">1</option>
			</datalist>
			<button type="button" id="flight_p_next" onClick="flight.goto_page('next')">下一頁</button>
			<button type="button" id="flight_p_last" onClick="flight.goto_page('last')">最後一頁</button>
		</span>
		</form>
		<form method="POST" id="flight_add_form" action=""></form>
	</section>
	<section id="users_manage">
		<table>
		<thead>
			<tr>
				<th>管理</th>
				<th>帳號</th>
				<th>權限</th>
				<th>姓名</th>
				<th>Email</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
		</table>
		<span id="users_page_control">
			<button type="button" id="users_p_first" onClick="">第一頁</button>
			<button type="button" id="users_p_previous" onClick="">上一頁</button>
			<input list="users_p_list" id="users_p_select" placeholder="第1/2頁">
			<datalist id="users_p_list">
				<option val="1">1</option>
			</datalist>
			<button type="button" id="users_p_next" onClick="">下一頁</button>
			<button type="button" id="users_p_last" onClick="">最後一頁</button>
		</span>
	</section>
	<section id="uset" class="dialog">
		<h3>輸入欲修改的資料</h3>
		<form method="POST" action="" id="uset_form">
			<div id="uset_rname">
				<input type="text" name="name" placeholder="" autofocus/>
			</div>
			<div id="uset_email">
				<input type="email" name="email" placeholder="" />
			</div>
			<div id="uset_pwd">
				<input type="password" name="password" pattern="^.{8,}$" title="請至少輸入8個字以上，可以使用任何符號" placeholder="輸入新密碼"/>
			</div>
			<div id="uset_confirm_pwd">
				<input type="password" placeholder="重複輸入新密碼"/>
			</div>
			<div class="button">
				<button type="submit">更新</button>
			</div>
		</form>
	</section>
	<section id="uconnect" class="dialog">
		<div id="uconnect_facebook">
			Facebook連結：
			<button class="FB_login" onClick="connect_FB.connect()">登入Facebook</button>
			<span></span>
		</div>
		<div id="uconnect_google">
			Google+&nbsp;連結：
			<button class="google_login" onClick="alert('To be available')">登入Google+</button>
			<span></span>
		</div>
		<div id="uconnect_github">
			GitHub&nbsp;&nbsp;連結：
			<button class="github_login" onClick="alert('To be available')">登入GitHub</button>
			<span></span>
		</div>
	</section>
</main>
<div class="bg">
	<img src="images/bg1.jpg" />
	<img src="images/bg2.jpg" />
	<img src="images/bg3.jpg" />
	<img src="images/bg4.jpg" />
	<img src="images/bg5.jpg" />
</div>
<div id="bg-cover"></div>
</body>
</html>
